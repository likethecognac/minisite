{"ast":null,"code":"import { LinearFilter, RGBFormat, ShaderMaterial, UniformsUtils, WebGLRenderTarget } from \"../../../build/three.module.js\";\nimport { Pass } from \"../postprocessing/Pass.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nvar SavePass = function SavePass(renderTarget) {\n  Pass.call(this);\n  if (CopyShader === undefined) console.error(\"SavePass relies on CopyShader\");\n  var shader = CopyShader;\n  this.textureID = \"tDiffuse\";\n  this.uniforms = UniformsUtils.clone(shader.uniforms);\n  this.material = new ShaderMaterial({\n    uniforms: this.uniforms,\n    vertexShader: shader.vertexShader,\n    fragmentShader: shader.fragmentShader\n  });\n  this.renderTarget = renderTarget;\n  if (this.renderTarget === undefined) {\n    this.renderTarget = new WebGLRenderTarget(window.innerWidth, window.innerHeight, {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      format: RGBFormat\n    });\n    this.renderTarget.texture.name = \"SavePass.rt\";\n  }\n  this.needsSwap = false;\n  this.fsQuad = new Pass.FullScreenQuad(this.material);\n};\nSavePass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: SavePass,\n  render: function render(renderer, writeBuffer, readBuffer) {\n    if (this.uniforms[this.textureID]) {\n      this.uniforms[this.textureID].value = readBuffer.texture;\n    }\n    renderer.setRenderTarget(this.renderTarget);\n    if (this.clear) renderer.clear();\n    this.fsQuad.render(renderer);\n  }\n});\nexport { SavePass };","map":{"version":3,"names":["LinearFilter","RGBFormat","ShaderMaterial","UniformsUtils","WebGLRenderTarget","Pass","CopyShader","SavePass","renderTarget","call","undefined","console","error","shader","textureID","uniforms","clone","material","vertexShader","fragmentShader","window","innerWidth","innerHeight","minFilter","magFilter","format","texture","name","needsSwap","fsQuad","FullScreenQuad","prototype","Object","assign","create","constructor","render","renderer","writeBuffer","readBuffer","value","setRenderTarget","clear"],"sources":["/Users/jphenessey/code/minisite/node_modules/three/examples/jsm/postprocessing/SavePass.js"],"sourcesContent":["import {\n\tLinearFilter,\n\tRGBFormat,\n\tShaderMaterial,\n\tUniformsUtils,\n\tWebGLRenderTarget\n} from \"../../../build/three.module.js\";\nimport { Pass } from \"../postprocessing/Pass.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\n\nvar SavePass = function ( renderTarget ) {\n\n\tPass.call( this );\n\n\tif ( CopyShader === undefined )\n\t\tconsole.error( \"SavePass relies on CopyShader\" );\n\n\tvar shader = CopyShader;\n\n\tthis.textureID = \"tDiffuse\";\n\n\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\tthis.material = new ShaderMaterial( {\n\n\t\tuniforms: this.uniforms,\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader\n\n\t} );\n\n\tthis.renderTarget = renderTarget;\n\n\tif ( this.renderTarget === undefined ) {\n\n\t\tthis.renderTarget = new WebGLRenderTarget( window.innerWidth, window.innerHeight, { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBFormat } );\n\t\tthis.renderTarget.texture.name = \"SavePass.rt\";\n\n\t}\n\n\tthis.needsSwap = false;\n\n\tthis.fsQuad = new Pass.FullScreenQuad( this.material );\n\n};\n\nSavePass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: SavePass,\n\n\trender: function ( renderer, writeBuffer, readBuffer ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderTarget );\n\t\tif ( this.clear ) renderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t}\n\n} );\n\nexport { SavePass };\n"],"mappings":"AAAA,SACCA,YAAY,EACZC,SAAS,EACTC,cAAc,EACdC,aAAa,EACbC,iBAAiB,QACX,gCAAgC;AACvC,SAASC,IAAI,QAAQ,2BAA2B;AAChD,SAASC,UAAU,QAAQ,0BAA0B;AAErD,IAAIC,QAAQ,GAAG,SAAXA,QAAQA,CAAcC,YAAY,EAAG;EAExCH,IAAI,CAACI,IAAI,CAAE,IAAI,CAAE;EAEjB,IAAKH,UAAU,KAAKI,SAAS,EAC5BC,OAAO,CAACC,KAAK,CAAE,+BAA+B,CAAE;EAEjD,IAAIC,MAAM,GAAGP,UAAU;EAEvB,IAAI,CAACQ,SAAS,GAAG,UAAU;EAE3B,IAAI,CAACC,QAAQ,GAAGZ,aAAa,CAACa,KAAK,CAAEH,MAAM,CAACE,QAAQ,CAAE;EAEtD,IAAI,CAACE,QAAQ,GAAG,IAAIf,cAAc,CAAE;IAEnCa,QAAQ,EAAE,IAAI,CAACA,QAAQ;IACvBG,YAAY,EAAEL,MAAM,CAACK,YAAY;IACjCC,cAAc,EAAEN,MAAM,CAACM;EAExB,CAAC,CAAE;EAEH,IAAI,CAACX,YAAY,GAAGA,YAAY;EAEhC,IAAK,IAAI,CAACA,YAAY,KAAKE,SAAS,EAAG;IAEtC,IAAI,CAACF,YAAY,GAAG,IAAIJ,iBAAiB,CAAEgB,MAAM,CAACC,UAAU,EAAED,MAAM,CAACE,WAAW,EAAE;MAAEC,SAAS,EAAEvB,YAAY;MAAEwB,SAAS,EAAExB,YAAY;MAAEyB,MAAM,EAAExB;IAAU,CAAC,CAAE;IAC3J,IAAI,CAACO,YAAY,CAACkB,OAAO,CAACC,IAAI,GAAG,aAAa;EAE/C;EAEA,IAAI,CAACC,SAAS,GAAG,KAAK;EAEtB,IAAI,CAACC,MAAM,GAAG,IAAIxB,IAAI,CAACyB,cAAc,CAAE,IAAI,CAACb,QAAQ,CAAE;AAEvD,CAAC;AAEDV,QAAQ,CAACwB,SAAS,GAAGC,MAAM,CAACC,MAAM,CAAED,MAAM,CAACE,MAAM,CAAE7B,IAAI,CAAC0B,SAAS,CAAE,EAAE;EAEpEI,WAAW,EAAE5B,QAAQ;EAErB6B,MAAM,EAAE,SAAAA,OAAWC,QAAQ,EAAEC,WAAW,EAAEC,UAAU,EAAG;IAEtD,IAAK,IAAI,CAACxB,QAAQ,CAAE,IAAI,CAACD,SAAS,CAAE,EAAG;MAEtC,IAAI,CAACC,QAAQ,CAAE,IAAI,CAACD,SAAS,CAAE,CAAC0B,KAAK,GAAGD,UAAU,CAACb,OAAO;IAE3D;IAEAW,QAAQ,CAACI,eAAe,CAAE,IAAI,CAACjC,YAAY,CAAE;IAC7C,IAAK,IAAI,CAACkC,KAAK,EAAGL,QAAQ,CAACK,KAAK,EAAE;IAClC,IAAI,CAACb,MAAM,CAACO,MAAM,CAAEC,QAAQ,CAAE;EAE/B;AAED,CAAC,CAAE;AAEH,SAAS9B,QAAQ"},"metadata":{},"sourceType":"module"}